pkgname=tracker-miners
pkgver=3.5.3
pkgrel=1
arch=('x86_64')
depends=(gst-plugins-base tracker exempi gexiv2 giflib
	gst-plugins-base gst-plugins-good gstreamer-vaapi
	icu poppler libseccomp ffmpeg dconf networkmanager upower
	totem-pl-parser)
makedepends=(git gtk-doc asciidoc)
source=(https://download.gnome.org/sources/$pkgname/3.5/$pkgname-$pkgver.tar.xz)

prepare() {
	cd $pkgname-$pkgver

	mkdir -p build
}

build() {
	cd $pkgname-$pkgver/build

	meson \
	--prefix=/usr \
	--buildtype=release \
	-D miner_rss=false \
	..

	ninja
}

package() {
	cd $pkgname-$pkgver/build

	DESTDIR=$pkgdir ninja install
}
